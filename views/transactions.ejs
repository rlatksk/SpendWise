<div class="transactions-header">
    <h1>Transactions</h1>
    <nav>
        <ul class="transactions-nav">
            <li><button>Today</button></li>
            <li><button>Last 7 Days</button></li>
            <li><button>Last 30 Days</button></li>
            <li class="select-date-range"><button>Select Date Range</button></li>
        </ul>
    </nav>
</div>

<div class="transactions-stats">
    <div class="total-transactions">
        <p>Total Transactions</p>
        <h3><%= transactions.length %></h3>
    </div>
    <% let totalIncome = 0; %>
    <% let totalExpense = 0; %>
    <% transactions.forEach(transaction => { %>
        <% if (transaction.type === 'income') { %>
            <% totalIncome += transaction.amount; %>
        <% } else { %>
            <% totalExpense += transaction.amount; %>
        <% } %>
    <% }); %>
    <div class="total-income">
        <p>Total Income</p>
        <h3>$<%= totalIncome.toFixed(2) %></h3>
    </div>
    <div class="total-expense">
        <p>Total Expense</p>
        <h3>$<%= totalExpense.toFixed(2) %></h3>
    </div>
</div>

<div class="transactions-list">
    <div class="transactions-list-options">
        <div class="transactions-list-header-left">
            <button class="transactions-select-category">Select Category</button>
            <button class="search-btn">Search</button>
        </div>
        <button class="download-btn">DOWNLOAD</button>
    </div>
    <table class="transactions-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Amount</th>
                <th>Category</th>
                <th>Notes</th>
            </tr>
        </thead>
        <tbody>
            <% transactions.forEach(transaction => { %>
                <tr>
                    <td><%= transaction.date.toISOString().slice(0, 10) %></td>
                    <% if (transaction.type === 'expense') { %>
                        <td>-$<%= Math.abs(transaction.amount).toFixed(2) %></td>
                    <% } else { %>
                        <td>$<%= transaction.amount.toFixed(2) %></td>
                    <% } %>
                    <td><%= transaction.category %></td>
                    <td><%= transaction.notes %></td>
                </tr>
            <% }); %>
        </tbody>
    </table>
</div>
